ORG 0x0
X_START: WORD 0x1
X: WORD 0x1,0x2,0x4,0x4,0x5, 0x6,0x7,0x8
XP_START: WORD $X
XP_I: WORD 0x0
N: WORD 0x0

START: 
LD X_START
PUSH
CALL SHOW
HLT

SHOW: LD #0x8
ST N
LD &0x1
ST XP_I

PRINT_LOOP:
LD #0x8
SUB N
ASL
ASL
ASL
ASL
ADD (XP_I)+
PUSH
S1: IN 0x15
AND #0x40
BEQ S1
POP
OUT 0x14
LOOP N
JUMP PRINT_LOOP

SWAP
ST &0x1
POP					;SWAP x2

RET
